<p-tabView *ngIf="!createDriveToggle">
  <p-tabPanel header="Détails">
    <div class="p-grid">
      <span class="p-col-4 global-legend">Équipe</span>
      <span class="p-col-4">{{ match.oppositeTeam }}</span>
      <span class="p-col-4"></span>

      <span class="p-col-4 global-legend">Type</span>
      <span class="p-col-4">{{ match.type ? 'Aller' : 'Retour' }}</span>
      <span class="p-col-4"></span>

      <span class="p-col-4 global-legend">Lieu</span>
      <span class="p-col-4">{{ match.place }}</span>
      <span class="p-col-4"></span>

      <span class="p-col-4 global-legend">Date</span>
      <span class="p-col-4">{{ match.date | date: 'short' }}</span>
      <span class="p-col-4"></span>
    </div>
  </p-tabPanel>
  <p-tabPanel header="Co-voiturage {{ drives?.length > 0 ? '(' + drives.length + ')' : '' }}" [disabled]="!enableDriveOptions">
    <p-toolbar>
      <div class="ui-toolbar-group-right">
        <p-button (click)="createDriveToggle = true" label="Proposer un covoiturage" icon="fas fa-car"></p-button>
      </div>
    </p-toolbar>
    <app-match-drive-list (enterDrive)="onEnterDrive($event)" (leaveDrive)="onLeaveDrive($event)" (deleteDrive)="onDeleteDrive($event)" *ngIf="drives" [drives]="drives"></app-match-drive-list>
  </p-tabPanel>
</p-tabView>
<form class="p-grid" [formGroup]="driveForm" *ngIf="createDriveToggle">
  <!-- NBPLACES -->
  <div class="p-col-4 p-offset-2">
    <p-spinner formControlName="nbTotalPlaces" [min]="1" max="20"></p-spinner>
  </div>
  <label class="global-form-label p-col-6">
    Nombre de places disponibles
    <span class="global-form-required">*</span>
  </label>

  <!-- OUTWARD -->
  <div class="p-col-4 p-offset-2 global-align-center">
    <p-checkbox formControlName="outward" [binary]="true"></p-checkbox>
  </div>
  <label class="global-form-label p-col-6">
    J'assure l'aller
    <span class="global-form-required">*</span>
  </label>

  <!-- OUTWARD PLACE -->
  <div class="p-col-4 p-offset-2">
    <input formControlName="outwardPlace" type="text" min="1" max="20" pInputText />
  </div>
  <label class="global-form-label p-col-6">
    Point de rendez-vous
    <span class="global-form-required">*</span>
  </label>

  <!-- OUTWARD DATE -->
  <div class="p-col-4 p-offset-2">
    <p-calendar
      formControlName="outwardDate"
      [readonlyInput]="true"
      [timeOnly]="true">
    </p-calendar>
  </div>
  <label class="global-form-label p-col-6">
    Heure de rendez-vous
    <span class="global-form-required">*</span>
  </label>

  <!-- RETURN -->
  <div class="p-col-4 p-offset-2 global-align-center">
    <p-checkbox formControlName="return" [binary]="true"></p-checkbox>
  </div>
  <label class="global-form-label p-col-6">
    J'assure le retour
    <span class="global-form-required">*</span>
  </label>

  <!-- OUTWARD PLACE -->
  <div class="p-col-4 p-offset-2">
    <input formControlName="returnPlace" type="text" min="1" max="20" pInputText />
  </div>
  <label class="global-form-label p-col-6">
    Lieu d'arrivée
    <span class="global-form-required">*</span>
  </label>

  <p-toolbar class="p-col-12">
    <div class="ui-toolbar-group-left">
      <p-button (click)="createDriveToggle = false; resetForm()" class="ui-button-info" label="Annuler" icon="fas fa-times"></p-button>
    </div>
    <div class="ui-toolbar-group-right">
      <p-button (click)="createDrive()" label="Valider" icon="fas fa-check" [disabled]="driveForm.invalid"></p-button>
    </div>
  </p-toolbar>
</form>
